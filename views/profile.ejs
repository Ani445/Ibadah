<!DOCTYPE html>
<html lang="en">

<head>
    <title>User Profile</title>

    <%- include('head-include.ejs') %>

    <link rel="stylesheet" type="text/css" href="stylesheets/profile.css">
</head>

<body>
<%- include('sidebar.ejs') %>
<div class="main--content">
    <%- include('header-wrapper.ejs') %>

    <div class="user-profile-container">
        <div class="profile-personal-information" style="margin-left: 30px; margin-bottom: 30px;">
            <form id="edit-name-form" action="/edit-name" method="post">
                <!--Edit name of the user-->
                <div class="form-input">
                    <div>
                        <label for="full-name">Your Name</label>
                    </div>
                    <div>
                        <input type="text" id="full-name" name="fullName" disabled required
                               value="<%= data.username %>">
                    </div>
                    <div>
                        <label for="full-name" class="error"></label>
                    </div>
                    <div id="edit-name">
                        <button type="button" id="edit-name-button" class="edit-button">Edit</button>
                        <label class="changes-saved" id="name-saved-label">Saved</label>
                    </div>
                    <div id="save-name" style="display: none;">
                        <button type="submit" id="save-name-button" class="save-button">Save</button>
                    </div>
                </div>
            </form>

            <!--Edit email of the user-->
            <form id="edit-email-form" action="/edit-email" method="post">
                <div class="form-input">
                    <div>
                        <label for="email">Your Email</label>
                    </div>
                    <div>
                        <input type="email" id="email" name="email" disabled required value="<%= data.email %>">
                    </div>
                    <div>
                        <label for="email" class="error"></label>
                    </div>
                    <div id="edit-email">
                        <button type="button" id="edit-email-button" class="edit-button">Edit</button>
                        <label class="changes-saved" id="email-saved-label">Saved</label>
                    </div>
                    <div id="save-email" style="display: none;">
                        <button type="submit" id="save-email-button" class="save-button">Send OTP</button>
                    </div>
                </div>
            </form>
            <form id="change-email-otp-form" action="/change-email-otp" method="post"
                  style="display: none;">
                <div class="form-input">
                    <div>
                        <label for="otp">Enter The OTP</label>
                    </div>
                    <div>
                        <input type="text" id="otp" name="otp" required>
                    </div>
                    <div>
                        <label for="otp" class="error"></label>
                    </div>
                    <div>
                        <button type="submit" id="verify-otp-button" class="save-button">Verify</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="javascripts/profile.js"></script>
</body>

</html>